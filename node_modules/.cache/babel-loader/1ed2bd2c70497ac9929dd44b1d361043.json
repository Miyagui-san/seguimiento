{"remainingRequest":"C:\\Users\\fabia\\prueba-vue\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\fabia\\prueba-vue\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\fabia\\prueba-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\fabia\\prueba-vue\\src\\components\\Popup.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\fabia\\prueba-vue\\src\\components\\Popup.vue","mtime":1629487006726},{"path":"C:\\Users\\fabia\\prueba-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fabia\\prueba-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\fabia\\prueba-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\fabia\\prueba-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiQzovVXNlcnMvZmFiaWEvcHJ1ZWJhLXZ1ZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7CmltcG9ydCBkYiBmcm9tICdAL2ZiJzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0ZWFtOiBbXSwKICAgICAgZGlhbG9nOiBmYWxzZSwKICAgICAgZHVlOiBudWxsLAogICAgICBpbnB1dFJ1bGVzOiBbZnVuY3Rpb24gKHYpIHsKICAgICAgICByZXR1cm4gdi5sZW5ndGggPj0gMyB8fCAnTWluaW11biBsZW5ndGggaXMgMyBjYXJhY3RlcnMnOwogICAgICB9XSwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGlmICh0aGlzLiRyZWZzLmZvcm0udmFsaWRhdGUoKSkgewogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgdmFyIHByb2plY3QgPSB7CiAgICAgICAgICBkZXBlbmRlbmNpYTogdGhpcy5kZXBlbmRlbmNpYSwKICAgICAgICAgIHRpdGxlOiB0aGlzLnRpdGxlLAogICAgICAgICAgY29udGVudDogdGhpcy5jb250ZW50LAogICAgICAgICAgZHVlOiBtb21lbnQodGhpcy5kdWUpLmZvcm1hdCgiRG8gTU1NIFlZWVkiKSwKICAgICAgICAgIHBlcnNvbjogdGhpcy5wZXJzb24sCiAgICAgICAgICBzdGF0dXM6ICdvbmdvaW5nJwogICAgICAgIH07CiAgICAgICAgZGIuY29sbGVjdGlvbigncHJ1ZWJhLXZ1ZScpLmFkZChwcm9qZWN0KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIF90aGlzLmRpYWxvZyA9IGZhbHNlOwoKICAgICAgICAgIF90aGlzLiRlbWl0KCdwcm9qZWN0QWRkZWQnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1hdHRlZERhdGU6IGZ1bmN0aW9uIGZvcm1hdHRlZERhdGUoKSB7CiAgICAgIHJldHVybiB0aGlzLmR1ZSA/IG1vbWVudCh0aGlzLmR1ZSkuZm9ybWF0KCJEbyBNTU0gWVlZWSIpIDogJyc7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgZGIuY29sbGVjdGlvbigndXN1YXJpb3MnKS5vblNuYXBzaG90KGZ1bmN0aW9uIChyZXMpIHsKICAgICAgdmFyIGNoYW5nZXMgPSByZXMuZG9jQ2hhbmdlcygpOwogICAgICBjaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkgewogICAgICAgIGlmIChjaGFuZ2UudHlwZSA9PT0gJ2FkZGVkJykgewogICAgICAgICAgX3RoaXMyLnRlYW0ucHVzaChfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoYW5nZS5kb2MuZGF0YSgpKSwge30sIHsKICAgICAgICAgICAgaWQ6IGNoYW5nZS5kb2MuaWQKICAgICAgICAgIH0pKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQp9Ow=="},{"version":3,"sources":["Popup.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoDA,OAAA,MAAA,MAAA,QAAA;AACA,OAAA,EAAA,MAAA,MAAA;AACA,eAAA;AACA,EAAA,IADA,kBACA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,EADA;AAEA,MAAA,MAAA,EAAA,KAFA;AAGA,MAAA,GAAA,EAAA,IAHA;AAIA,MAAA,UAAA,EAAA,CACA,UAAA,CAAA;AAAA,eAAA,CAAA,CAAA,MAAA,IAAA,CAAA,IAAA,+BAAA;AAAA,OADA,CAJA;AAOA,MAAA,OAAA,EAAA;AAPA,KAAA;AASA,GAXA;AAYA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AAAA;;AACA,UAAA,KAAA,KAAA,CAAA,IAAA,CAAA,QAAA,EAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,YAAA,OAAA,GAAA;AACA,UAAA,WAAA,EAAA,KAAA,WADA;AAEA,UAAA,KAAA,EAAA,KAAA,KAFA;AAGA,UAAA,OAAA,EAAA,KAAA,OAHA;AAIA,UAAA,GAAA,EAAA,MAAA,CAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,aAAA,CAJA;AAKA,UAAA,MAAA,EAAA,KAAA,MALA;AAMA,UAAA,MAAA,EAAA;AANA,SAAA;AAQA,QAAA,EAAA,CAAA,UAAA,CAAA,YAAA,EAAA,GAAA,CAAA,OAAA,EAAA,IAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,cAAA;AACA,SAJA;AAKA;AACA;AAlBA,GAZA;AAgCA,EAAA,QAAA,EAAA;AACA,IAAA,aADA,2BACA;AACA,aAAA,KAAA,GAAA,GAAA,MAAA,CAAA,KAAA,GAAA,CAAA,CAAA,MAAA,CAAA,aAAA,CAAA,GAAA,EAAA;AACA;AAHA,GAhCA;AAqCA,EAAA,OArCA,qBAqCA;AAAA;;AACA,IAAA,EAAA,CAAA,UAAA,CAAA,UAAA,EAAA,UAAA,CAAA,UAAA,GAAA,EAAA;AACA,UAAA,OAAA,GAAA,GAAA,CAAA,UAAA,EAAA;AAEA,MAAA,OAAA,CAAA,OAAA,CAAA,UAAA,MAAA,EAAA;AACA,YAAA,MAAA,CAAA,IAAA,KAAA,OAAA,EAAA;AACA,UAAA,MAAA,CAAA,IAAA,CAAA,IAAA,iCACA,MAAA,CAAA,GAAA,CAAA,IAAA,EADA;AAEA,YAAA,EAAA,EAAA,MAAA,CAAA,GAAA,CAAA;AAFA;AAIA;AACA,OAPA;AAQA,KAXA;AAYA;AAlDA,CAAA","sourcesContent":["<template>\r\n    <v-div class=\"text-center\" flat>\r\n        <v-dialog v-model=\"dialog\" max-width=\"600px\">\r\n                <template v-slot:activator=\"{ on }\">\r\n                    <v-btn depressed class=\"grey lighten-4 black--text\" v-on=\"on\">\r\n                        <span>add new project</span>\r\n                    </v-btn>\r\n                </template>\r\n                    <v-card> \r\n                        <v-card-title>\r\n                            <h1>add a new project</h1>\r\n                        </v-card-title>\r\n                        <v-card-text>\r\n                            <v-form class=\"px-3\" ref=\"form\">\r\n                                <v-text-field label=\"Dependencia\" v-model=\"dependencia\" prepend-icon=\"mdi-office-building\" :rules=\"inputRules\"></v-text-field>\r\n                                <v-text-field label=\"Title\" v-model=\"title\" prepend-icon=\"mdi-folder\" :rules=\"inputRules\"></v-text-field>\r\n                                <v-text-field label=\"Information\" v-model=\"content\" prepend-icon=\"mdi-pencil\" :rules=\"inputRules\"></v-text-field>\r\n\r\n                                <v-text-field label=\"Responsable\" v-model=\"person\" prepend-icon=\"mdi-account\" :rules=\"inputRules\">\r\n                                    <v-select :items=\"person.nombre\"></v-select>\r\n                                </v-text-field>\r\n\r\n                                <!--v-menu offset-y>\r\n                                    <template v-slot:activator=\"{ on }\">\r\n                                        <v-text-field v-model=\"person\" :rules=\"inputRules\" v-on=\"on\" label=\"Person\" prepend-icon=\"mdi-account\"></v-text-field>\r\n                                    </template>\r\n                                    <v-list flat>\r\n                                        <v-list-item v-for=\"person in team\" :key=\"person.mail\">\r\n                                            <v-item-conten>\r\n                                                <v-list-item-title v-text=\"person.nombre\"></v-list-item-title>\r\n                                            </v-item-conten>\r\n                                        </v-list-item>\r\n                                    </v-list>\r\n                                </!--v-menu-->\r\n\r\n                                <v-menu max-width=\"290\">\r\n                                    <template v-slot:activator=\"{ on }\">\r\n                                        <v-text-field :rules=\"inputRules\" :value=\"formattedDate\" v-on=\"on\" label=\"Due date\" prepend-icon=\"mdi-calendar\"></v-text-field>\r\n                                    </template>\r\n                                    <v-date-picker v-model=\"due\"></v-date-picker>\r\n                                </v-menu>\r\n\r\n                                <v-btn flat class=\"success mx-0 mt-3\" @click=\"submit\" :loading=\"loading\">Add project</v-btn>\r\n                            </v-form>\r\n                        </v-card-text>\r\n\r\n                    </v-card>\r\n        </v-dialog>\r\n    </v-div>\r\n</template>\r\n\r\n<script>\r\n  import moment from 'moment';\r\n  import db from '@/fb';\r\n  export default {\r\n    data () {\r\n      return {\r\n        team: [],\r\n        dialog: false,\r\n        due:null,\r\n        inputRules: [\r\n            v => v.length >= 3 || 'Minimun length is 3 caracters'\r\n        ],\r\n        loading: false,\r\n      }\r\n    },\r\n    methods: {\r\n        submit() {\r\n            if(this.$refs.form.validate()){\r\n                this.loading = true;\r\n                const project = {\r\n                    dependencia: this.dependencia,\r\n                    title: this.title,\r\n                    content: this.content,\r\n                    due: moment(this.due).format(\"Do MMM YYYY\"),\r\n                    person: this.person,\r\n                    status: 'ongoing'\r\n                }\r\n                db.collection('prueba-vue').add(project).then(() => {\r\n                    this.loading = false;\r\n                    this.dialog = false;\r\n                    this.$emit('projectAdded')\r\n                })\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        formattedDate() {\r\n            return this.due ? moment(this.due).format(\"Do MMM YYYY\") : ''\r\n        }\r\n    },\r\n  created() {\r\n    db.collection('usuarios').onSnapshot(res => {\r\n      const changes = res.docChanges();\r\n\r\n      changes.forEach(change => {\r\n        if (change.type === 'added'){\r\n          this.team.push({\r\n            ...change.doc.data(),\r\n            id: change.doc.id\r\n          })\r\n        }\r\n      })\r\n    })\r\n  }\r\n  }\r\n</script>"],"sourceRoot":"src/components"}]}